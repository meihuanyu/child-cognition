# ğŸ§© å„¿ç«¥ä¸­æ–‡è®¤çŸ¥ + è‹±æ–‡è·Ÿè¯» App - é¡¹ç›®æ€»ç»“

## âœ… å·²å®ŒæˆåŠŸèƒ½

### ğŸ—ï¸ åŸºç¡€æ¶æ„
- âœ… Next.js 14 (App Router) é¡¹ç›®é…ç½®
- âœ… TypeScript é…ç½®
- âœ… Tailwind CSS æ ·å¼ç³»ç»Ÿ
- âœ… Prisma ORM + SQLite æ•°æ®åº“
- âœ… shadcn/ui ç»„ä»¶åº“é›†æˆ

### ğŸ“Š æ•°æ®åº“æ¨¡å‹
- âœ… Userï¼ˆç”¨æˆ·æ¨¡å‹ï¼‰
- âœ… Lessonï¼ˆè¯¾ç¨‹æ¨¡å‹ï¼‰
- âœ… Segmentï¼ˆåˆ†æ®µæ¨¡å‹ï¼‰
- âœ… StudyLogï¼ˆå­¦ä¹ æ—¥å¿—æ¨¡å‹ï¼‰
- âœ… Reportï¼ˆæŠ¥å‘Šæ¨¡å‹ï¼‰

### ğŸ¨ UI ç»„ä»¶
- âœ… Buttonï¼ˆæŒ‰é’®ï¼‰
- âœ… Inputï¼ˆè¾“å…¥æ¡†ï¼‰
- âœ… Cardï¼ˆå¡ç‰‡ï¼‰
- âœ… Tabsï¼ˆæ ‡ç­¾é¡µï¼‰
- âœ… Dialogï¼ˆå¯¹è¯æ¡†ï¼‰
- âœ… Progressï¼ˆè¿›åº¦æ¡ï¼‰
- âœ… Labelï¼ˆæ ‡ç­¾ï¼‰
- âœ… Alertï¼ˆè­¦å‘Šï¼‰
- âœ… Avatarï¼ˆå¤´åƒï¼‰

### ğŸ”§ æ ¸å¿ƒåŠŸèƒ½

#### 1. å†…å®¹ç”Ÿæˆç³»ç»Ÿ
- âœ… YouTube é“¾æ¥è¾“å…¥é¡µé¢ (`/create`)
- âœ… è¯¾ç¨‹åˆ›å»º API (`POST /api/lessons/create`)
- âœ… å¼‚æ­¥å¤„ç† API (`POST /api/lessons/process/[lessonId]`)
- âœ… æ‹¼éŸ³è‡ªåŠ¨ç”Ÿæˆï¼ˆpinyin åº“ï¼‰
- âœ… è‹±æ–‡é‡Šä¹‰ï¼ˆç®€æ˜“è¯å…¸ï¼Œå¯æ‰©å±•ï¼‰

#### 2. è·Ÿè¯»è®­ç»ƒç•Œé¢
- âœ… è¯¾ç¨‹è¯¦æƒ…é¡µé¢ (`/lesson/[id]`)
- âœ… ä¸­æ–‡/è‹±æ–‡æ¨¡å¼åˆ‡æ¢
- âœ… æ–‡æœ¬è½¬è¯­éŸ³ï¼ˆTTSï¼‰- Web Speech API
- âœ… è¯­éŸ³è¯†åˆ«ï¼ˆASRï¼‰- Web Speech API
- âœ… å®æ—¶è¯„åˆ†ç®—æ³•ï¼ˆLevenshtein è·ç¦»ï¼‰
- âœ… ä¸‰æ¡£åé¦ˆç³»ç»Ÿï¼ˆğŸ‘ å¾ˆæ£’ / ğŸ™‚ ä¸é”™ / ğŸ” å†è¯•ä¸€æ¬¡ï¼‰
- âœ… å­¦ä¹ æ—¥å¿—è®°å½•

#### 3. å­¦ä¹ ç®¡ç†
- âœ… è¯¾ç¨‹åˆ—è¡¨é¡µé¢ (`/lessons`)
- âœ… è¯¾ç¨‹è·å– API (`GET /api/lessons/[id]`)
- âœ… è¯¾ç¨‹åˆ—è¡¨ API (`GET /api/lessons/list`)
- âœ… å­¦ä¹ ç»Ÿè®¡ API (`GET /api/logs/stats`)
- âœ… å­¦ä¹ æ—¥å¿—åˆ›å»º API (`POST /api/logs/create`)

#### 4. å·¥å…·å‡½æ•°
- âœ… è¯„åˆ†ç®—æ³•ï¼ˆ`lib/evaluate.ts`ï¼‰
- âœ… æ‹¼éŸ³è½¬æ¢ï¼ˆ`lib/pinyin-converter.ts`ï¼‰
- âœ… è¯­éŸ³å¤„ç†ï¼ˆ`lib/speech.ts`ï¼‰
- âœ… Prisma å®¢æˆ·ç«¯ï¼ˆ`lib/prisma.ts`ï¼‰

### ğŸ“„ é¡µé¢è·¯ç”±
- âœ… `/` - é¦–é¡µï¼ˆäº§å“ä»‹ç»ï¼‰
- âœ… `/create` - åˆ›å»ºè¯¾ç¨‹
- âœ… `/lessons` - è¯¾ç¨‹åˆ—è¡¨
- âœ… `/lesson/[id]` - è¯¾ç¨‹è¯¦æƒ…/å­¦ä¹ ç•Œé¢
- âœ… `/demo` - åŠŸèƒ½æ¼”ç¤º

### ğŸ› ï¸ å¼€å‘å·¥å…·
- âœ… åˆå§‹åŒ–è„šæœ¬ï¼ˆ`scripts/init-demo-user.ts`ï¼‰
- âœ… å¿«é€Ÿå¯åŠ¨å‘½ä»¤ï¼ˆ`pnpm init`ï¼‰
- âœ… æ•°æ®åº“ç®¡ç†å‘½ä»¤
- âœ… å®Œæ•´çš„æ–‡æ¡£ç³»ç»Ÿ

---

## ğŸ“ é¡¹ç›®æ–‡ä»¶ç»“æ„

```
child-cognition/
â”œâ”€â”€ app/                          # Next.js åº”ç”¨
â”‚   â”œâ”€â”€ api/                     # API Routes
â”‚   â”‚   â”œâ”€â”€ lessons/
â”‚   â”‚   â”‚   â”œâ”€â”€ create/route.ts          # åˆ›å»ºè¯¾ç¨‹
â”‚   â”‚   â”‚   â”œâ”€â”€ list/route.ts            # è¯¾ç¨‹åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/route.ts            # è·å–/åˆ é™¤è¯¾ç¨‹
â”‚   â”‚   â”‚   â””â”€â”€ process/[lessonId]/route.ts  # å¤„ç†è¯¾ç¨‹
â”‚   â”‚   â”œâ”€â”€ logs/
â”‚   â”‚   â”‚   â”œâ”€â”€ create/route.ts          # åˆ›å»ºå­¦ä¹ æ—¥å¿—
â”‚   â”‚   â”‚   â””â”€â”€ stats/route.ts           # å­¦ä¹ ç»Ÿè®¡
â”‚   â”‚   â””â”€â”€ users/
â”‚   â”‚       â””â”€â”€ create/route.ts          # åˆ›å»ºç”¨æˆ·
â”‚   â”œâ”€â”€ create/page.tsx          # åˆ›å»ºè¯¾ç¨‹é¡µé¢
â”‚   â”œâ”€â”€ lesson/[id]/page.tsx     # è¯¾ç¨‹è¯¦æƒ…é¡µé¢
â”‚   â”œâ”€â”€ lessons/page.tsx         # è¯¾ç¨‹åˆ—è¡¨é¡µé¢
â”‚   â”œâ”€â”€ demo/page.tsx            # æ¼”ç¤ºé¡µé¢
â”‚   â”œâ”€â”€ layout.tsx               # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ page.tsx                 # é¦–é¡µ
â”‚   â””â”€â”€ globals.css              # å…¨å±€æ ·å¼
â”œâ”€â”€ components/
â”‚   â””â”€â”€ ui/                      # shadcn/ui ç»„ä»¶
â”‚       â”œâ”€â”€ button.tsx
â”‚       â”œâ”€â”€ input.tsx
â”‚       â”œâ”€â”€ card.tsx
â”‚       â”œâ”€â”€ tabs.tsx
â”‚       â”œâ”€â”€ dialog.tsx
â”‚       â”œâ”€â”€ progress.tsx
â”‚       â”œâ”€â”€ label.tsx
â”‚       â”œâ”€â”€ alert.tsx
â”‚       â””â”€â”€ avatar.tsx
â”œâ”€â”€ lib/                         # å·¥å…·åº“
â”‚   â”œâ”€â”€ prisma.ts               # Prisma å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ evaluate.ts             # è¯„åˆ†ç®—æ³•
â”‚   â”œâ”€â”€ pinyin-converter.ts     # æ‹¼éŸ³è½¬æ¢
â”‚   â”œâ”€â”€ speech.ts               # è¯­éŸ³å¤„ç†
â”‚   â””â”€â”€ utils.ts                # é€šç”¨å·¥å…·
â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ schema.prisma           # æ•°æ®åº“ Schema
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ init-demo-user.ts       # åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ types/
â”‚   â””â”€â”€ speech.d.ts             # Web Speech API ç±»å‹
â”œâ”€â”€ db/                         # æ•°æ®åº“æ–‡ä»¶
â”œâ”€â”€ package.json                # ä¾èµ–é…ç½®
â”œâ”€â”€ tsconfig.json               # TypeScript é…ç½®
â”œâ”€â”€ tailwind.config.ts          # Tailwind é…ç½®
â”œâ”€â”€ next.config.js              # Next.js é…ç½®
â”œâ”€â”€ middleware.ts               # ä¸­é—´ä»¶
â”œâ”€â”€ .gitignore                  # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ README.md                   # äº§å“éœ€æ±‚æ–‡æ¡£
â”œâ”€â”€ CURSOR_READ.md              # æŠ€æœ¯å®ç°æ–‡æ¡£
â”œâ”€â”€ SETUP.md                    # è®¾ç½®æŒ‡å—
â”œâ”€â”€ START.md                    # å¿«é€Ÿå¯åŠ¨æŒ‡å—
â””â”€â”€ PROJECT_SUMMARY.md          # é¡¹ç›®æ€»ç»“ï¼ˆæœ¬æ–‡ä»¶ï¼‰
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### é¦–æ¬¡è¿è¡Œ
```bash
# 1. å®‰è£…ä¾èµ–
pnpm install

# 2. åˆå§‹åŒ–ï¼ˆæ•°æ®åº“ + æ¼”ç¤ºæ•°æ®ï¼‰
pnpm init

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

### æ—¥å¸¸å¼€å‘
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# æŸ¥çœ‹æ•°æ®åº“
pnpm db:studio
```

---

## ğŸ¯ æ ¸å¿ƒæŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç”¨é€” | ç‰ˆæœ¬ |
|------|------|------|
| Next.js | å…¨æ ˆæ¡†æ¶ | 14.0.4 |
| React | UI åº“ | 18.2.0 |
| TypeScript | ç±»å‹ç³»ç»Ÿ | 5.x |
| Prisma | ORM | 5.7.0 |
| SQLite | æ•°æ®åº“ | - |
| Tailwind CSS | æ ·å¼æ¡†æ¶ | 3.3.0 |
| shadcn/ui | UI ç»„ä»¶åº“ | - |
| pinyin | æ‹¼éŸ³è½¬æ¢ | 3.1.0 |
| fast-levenshtein | å­—ç¬¦ä¸²ç›¸ä¼¼åº¦ | 3.0.0 |
| Web Speech API | è¯­éŸ³åŠŸèƒ½ | æµè§ˆå™¨åŸç”Ÿ |

---

## ğŸ“Š API ç«¯ç‚¹æ€»è§ˆ

### è¯¾ç¨‹ç›¸å…³
- `POST /api/lessons/create` - åˆ›å»ºè¯¾ç¨‹
- `POST /api/lessons/process/[lessonId]` - å¤„ç†è¯¾ç¨‹
- `GET /api/lessons/[id]` - è·å–è¯¾ç¨‹è¯¦æƒ…
- `DELETE /api/lessons/[id]` - åˆ é™¤è¯¾ç¨‹
- `GET /api/lessons/list?userId=xxx` - è·å–è¯¾ç¨‹åˆ—è¡¨

### å­¦ä¹ æ—¥å¿—
- `POST /api/logs/create` - åˆ›å»ºå­¦ä¹ æ—¥å¿—
- `GET /api/logs/stats?userId=xxx&lessonId=xxx` - è·å–å­¦ä¹ ç»Ÿè®¡

### ç”¨æˆ·
- `POST /api/users/create` - åˆ›å»ºç”¨æˆ·

---

## ğŸ¨ è®¾è®¡äº®ç‚¹

### 1. æ¸è¿›å¼å¢å¼º
- åŸºç¡€åŠŸèƒ½æ— éœ€è¯­éŸ³ API ä¹Ÿèƒ½ä½¿ç”¨
- æ£€æµ‹æµè§ˆå™¨æ”¯æŒå¹¶ç»™å‡ºæç¤º

### 2. å³æ—¶åé¦ˆ
- è·Ÿè¯»åç«‹å³æ˜¾ç¤ºè¯„åˆ†
- ä¸‰æ¡£åé¦ˆç³»ç»Ÿæ¸…æ™°ç›´è§‚

### 3. è‡ªåŠ¨è¿›åº¦ç®¡ç†
- è¿›åº¦æ¡å®æ—¶æ˜¾ç¤º
- "å¾ˆæ£’"è¯„åˆ†è‡ªåŠ¨è·³è½¬ä¸‹ä¸€å¥

### 4. åŒè¯­å­¦ä¹ æ¨¡å¼
- ä¸­æ–‡æ¨¡å¼ï¼šæ‹¼éŸ³æ ‡æ³¨
- è‹±æ–‡æ¨¡å¼ï¼šå•è¯é‡Šä¹‰

### 5. å“åº”å¼è®¾è®¡
- ç§»åŠ¨ç«¯å‹å¥½
- é€‚é…å„ç§å±å¹•å°ºå¯¸

---

## ğŸ”„ MVP é™åˆ¶ä¸æœªæ¥æ‰©å±•

### å½“å‰ MVP é™åˆ¶
1. **ç”¨æˆ·è®¤è¯**: ä½¿ç”¨å›ºå®š Demo ç”¨æˆ· ID
2. **YouTube å¤„ç†**: ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®
3. **è‹±æ–‡ç¿»è¯‘**: ç®€å•è¯å…¸æ˜ å°„
4. **å¼‚æ­¥å¤„ç†**: ç®€å• fetch è§¦å‘

### æœªæ¥æ‰©å±•æ–¹å‘
1. **é›†æˆ NextAuth.js** - å®Œæ•´çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
2. **çœŸå® YouTube å¤„ç†** - ä½¿ç”¨ ytdl-core æå–å­—å¹•
3. **AI ç¿»è¯‘** - é›†æˆ Google Translate / DeepL API
4. **é˜Ÿåˆ—ç³»ç»Ÿ** - ä½¿ç”¨ Bull/BullMQ å¤„ç†é•¿ä»»åŠ¡
5. **æŠ¥å‘Šç”Ÿæˆ** - è‡ªåŠ¨ç”Ÿæˆå­¦ä¹ æŠ¥å‘Šå¹¶é‚®ä»¶å‘é€
6. **æ”¯ä»˜é›†æˆ** - Stripe / Lemon Squeezy
7. **äº‘å­˜å‚¨** - AWS S3 / Cloudflare R2
8. **æ›´ç²¾å‡†çš„è¯„åˆ†** - é›†æˆä¸“ä¸šè¯­éŸ³è¯„æµ‹ API

---

## ğŸ“ å¼€å‘è§„èŒƒ

### å‘½åè§„èŒƒ
- ç»„ä»¶ï¼šPascalCase (`Button.tsx`)
- å·¥å…·å‡½æ•°ï¼šcamelCase (`evaluateTranscript`)
- API è·¯ç”±ï¼škebab-case (`/api/lessons/create`)
- æ•°æ®åº“æ¨¡å‹ï¼šPascalCase (`User`, `Lesson`)

### ä»£ç ç»„ç»‡
- æ¯ä¸ª API è·¯ç”±ä¸€ä¸ªæ–‡ä»¶
- UI ç»„ä»¶æ”¾åœ¨ `components/ui/`
- å·¥å…·å‡½æ•°æ”¾åœ¨ `lib/`
- ç±»å‹å®šä¹‰æ”¾åœ¨ `types/`

### Git æäº¤è§„èŒƒ
- `feat:` æ–°åŠŸèƒ½
- `fix:` ä¿®å¤ bug
- `docs:` æ–‡æ¡£æ›´æ–°
- `style:` ä»£ç æ ¼å¼
- `refactor:` é‡æ„
- `test:` æµ‹è¯•
- `chore:` æ„å»º/å·¥å…·

---

## ğŸ› å·²çŸ¥é—®é¢˜

1. **è¯­éŸ³è¯†åˆ«å‡†ç¡®åº¦** - ä¾èµ–æµè§ˆå™¨å®ç°ï¼Œä¸­æ–‡è¯†åˆ«å¯èƒ½ä¸å¤Ÿå‡†ç¡®
2. **YouTube å¤„ç†** - MVP ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œéœ€è¦é›†æˆçœŸå® API
3. **å¹¶å‘å¤„ç†** - å¤šä¸ªè¯¾ç¨‹åŒæ—¶å¤„ç†å¯èƒ½æœ‰æ€§èƒ½é—®é¢˜

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### æ–‡æ¡£
- [START.md](./START.md) - å¿«é€Ÿå¯åŠ¨
- [SETUP.md](./SETUP.md) - è¯¦ç»†è®¾ç½®
- [README.md](./README.md) - äº§å“éœ€æ±‚
- [CURSOR_READ.md](./CURSOR_READ.md) - æŠ€æœ¯å®ç°

### å¸¸ç”¨å‘½ä»¤
```bash
pnpm dev          # å¼€å‘
pnpm build        # æ„å»º
pnpm start        # ç”Ÿäº§
pnpm lint         # æ£€æŸ¥
pnpm db:studio    # æ•°æ®åº“å¯è§†åŒ–
pnpm init         # åˆå§‹åŒ–é¡¹ç›®
```

---

## ğŸ‰ æ€»ç»“

è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ MVP é¡¹ç›®ï¼ŒåŒ…å«ï¼š
- âœ… å®Œæ•´çš„å‰åç«¯ä»£ç 
- âœ… æ•°æ®åº“è®¾è®¡å’Œå®ç°
- âœ… UI ç»„ä»¶å’Œé¡µé¢
- âœ… API æ¥å£
- âœ… æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
- âœ… è¯¦ç»†çš„æ–‡æ¡£
- âœ… å¼€å‘å·¥å…·å’Œè„šæœ¬

å¯ä»¥ç›´æ¥è¿è¡Œå¹¶è¿›è¡Œæ¼”ç¤ºï¼ğŸš€

