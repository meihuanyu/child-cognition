# ğŸš€ é¡¹ç›®è®¾ç½®æŒ‡å—

## å‰ç½®è¦æ±‚

- Node.js 18+ 
- pnpm (æ¨è) æˆ– npm

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pnpm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` ä¸º `.env`ï¼š

```bash
cp .env.example .env
```

é»˜è®¤é…ç½®å·²ç»å¯ä»¥è¿è¡Œï¼Œæ— éœ€ä¿®æ”¹ã€‚

### 3. åˆå§‹åŒ–æ•°æ®åº“

```bash
# ç”Ÿæˆ Prisma Client
pnpm db:generate

# æ¨é€æ•°æ®åº“ Schema
pnpm db:push
```

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
pnpm dev
```

è®¿é—® http://localhost:3000

## ğŸ“ é¡¹ç›®ç»“æ„

```
child-cognition/
â”œâ”€â”€ app/                    # Next.js App Router é¡µé¢
â”‚   â”œâ”€â”€ api/               # API Routes
â”‚   â”‚   â”œâ”€â”€ lessons/       # è¯¾ç¨‹ç›¸å…³ API
â”‚   â”‚   â”œâ”€â”€ logs/          # å­¦ä¹ æ—¥å¿— API
â”‚   â”‚   â””â”€â”€ users/         # ç”¨æˆ· API
â”‚   â”œâ”€â”€ create/            # åˆ›å»ºè¯¾ç¨‹é¡µé¢
â”‚   â”œâ”€â”€ lesson/[id]/       # è¯¾ç¨‹è¯¦æƒ…é¡µé¢
â”‚   â”œâ”€â”€ lessons/           # è¯¾ç¨‹åˆ—è¡¨é¡µé¢
â”‚   â”œâ”€â”€ demo/              # æ¼”ç¤ºé¡µé¢
â”‚   â””â”€â”€ page.tsx           # é¦–é¡µ
â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â””â”€â”€ ui/               # shadcn/ui ç»„ä»¶
â”œâ”€â”€ lib/                   # å·¥å…·åº“
â”‚   â”œâ”€â”€ prisma.ts         # Prisma å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ evaluate.ts       # è¯„åˆ†ç®—æ³•
â”‚   â”œâ”€â”€ pinyin-converter.ts # æ‹¼éŸ³è½¬æ¢
â”‚   â”œâ”€â”€ speech.ts         # Web Speech API
â”‚   â””â”€â”€ utils.ts          # é€šç”¨å·¥å…·
â”œâ”€â”€ prisma/               # Prisma é…ç½®
â”‚   â””â”€â”€ schema.prisma     # æ•°æ®åº“ Schema
â”œâ”€â”€ types/                # TypeScript ç±»å‹å®šä¹‰
â””â”€â”€ db/                   # SQLite æ•°æ®åº“æ–‡ä»¶
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. å†…å®¹ç”Ÿæˆ (åŠŸèƒ½ A)
- **è·¯å¾„**: `/create`
- **API**: `POST /api/lessons/create`
- **åŠŸèƒ½**: è¾“å…¥ YouTube é“¾æ¥ï¼Œè‡ªåŠ¨ç”Ÿæˆå­¦ä¹ å†…å®¹

### 2. è·Ÿè¯»è®­ç»ƒ (åŠŸèƒ½ B)
- **è·¯å¾„**: `/lesson/[id]`
- **åŠŸèƒ½**: 
  - ä¸­æ–‡æ¨¡å¼ï¼šæ˜¾ç¤ºæ‹¼éŸ³
  - è‹±æ–‡æ¨¡å¼ï¼šæ˜¾ç¤ºé‡Šä¹‰
  - è¯­éŸ³æœ—è¯»ï¼ˆTTSï¼‰
  - è¯­éŸ³è¯†åˆ«ï¼ˆASRï¼‰
  - å®æ—¶è¯„åˆ†åé¦ˆ

### 3. å­¦ä¹ ç»Ÿè®¡ (åŠŸèƒ½ C)
- **API**: `GET /api/logs/stats`
- **åŠŸèƒ½**: æŸ¥çœ‹å­¦ä¹ è®°å½•å’Œç»Ÿè®¡æ•°æ®

## ğŸ”§ å¼€å‘å‘½ä»¤

```bash
# å¼€å‘
pnpm dev

# æ„å»º
pnpm build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
pnpm start

# ä»£ç æ£€æŸ¥
pnpm lint

# Prisma ç›¸å…³
pnpm db:generate    # ç”Ÿæˆ Prisma Client
pnpm db:push        # æ¨é€ Schema åˆ°æ•°æ®åº“
pnpm db:studio      # æ‰“å¼€ Prisma Studio (æ•°æ®åº“å¯è§†åŒ–å·¥å…·)
```

## ğŸ“ MVP é™åˆ¶è¯´æ˜

å½“å‰ç‰ˆæœ¬æ˜¯ MVPï¼ˆæœ€å°å¯è¡Œäº§å“ï¼‰ï¼Œæœ‰ä»¥ä¸‹é™åˆ¶ï¼š

1. **ç”¨æˆ·è®¤è¯**: ä½¿ç”¨å›ºå®šçš„ Demo ç”¨æˆ· IDï¼Œæœªé›†æˆ NextAuth
2. **YouTube å¤„ç†**: ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œæœªå®é™…è°ƒç”¨ ytdl-core
3. **è‹±æ–‡ç¿»è¯‘**: ä½¿ç”¨ç®€å•è¯å…¸ï¼Œæœªé›†æˆç¿»è¯‘ API
4. **å¼‚æ­¥å¤„ç†**: ä½¿ç”¨ç®€å•çš„ fetch è§¦å‘ï¼Œæœªä½¿ç”¨é˜Ÿåˆ—ç³»ç»Ÿ

## ğŸŒ æµè§ˆå™¨æ”¯æŒ

**æ¨èæµè§ˆå™¨**:
- Chrome 85+
- Edge 85+

**åŠŸèƒ½è¦æ±‚**:
- Web Speech API (è¯­éŸ³åˆæˆå’Œè¯†åˆ«)
- éœ€è¦ HTTPS æˆ– localhost (è¯­éŸ³è¯†åˆ«æƒé™è¦æ±‚)

## ğŸ” ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### Vercel éƒ¨ç½²

1. è¿æ¥ GitHub ä»“åº“
2. é…ç½®ç¯å¢ƒå˜é‡
3. éƒ¨ç½²

### ç¯å¢ƒå˜é‡é…ç½®

```env
DATABASE_URL="file:./dev.db"
NEXT_PUBLIC_APP_URL=https://your-domain.com
```

## ğŸ“š æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 14 (App Router)
- **æ•°æ®åº“**: Prisma + SQLite
- **æ ·å¼**: Tailwind CSS
- **UI ç»„ä»¶**: shadcn/ui
- **è¯­éŸ³**: Web Speech API
- **æ‹¼éŸ³**: pinyin åº“
- **å­—ç¬¦ä¸²ç›¸ä¼¼åº¦**: fast-levenshtein

## ğŸ› å¸¸è§é—®é¢˜

### Q: è¯­éŸ³è¯†åˆ«ä¸å·¥ä½œï¼Ÿ
A: ç¡®ä¿ä½¿ç”¨ Chrome/Edge æµè§ˆå™¨ï¼Œå¹¶å…è®¸éº¦å…‹é£æƒé™ã€‚

### Q: æ•°æ®åº“é”™è¯¯ï¼Ÿ
A: è¿è¡Œ `pnpm db:push` é‡æ–°åŒæ­¥æ•°æ®åº“ã€‚

### Q: è¯¾ç¨‹ä¸€ç›´æ˜¾ç¤º"å¤„ç†ä¸­"ï¼Ÿ
A: æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ï¼Œå¯èƒ½æ˜¯ API è°ƒç”¨å¤±è´¥ã€‚

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- [README.md](./README.md) - äº§å“éœ€æ±‚æ–‡æ¡£
- [CURSOR_READ.md](./CURSOR_READ.md) - æŠ€æœ¯å®ç°æ–‡æ¡£

